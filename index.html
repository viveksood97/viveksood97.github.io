<head>
    <link rel="stylesheet" type="text/css" href="static/style.css">
    <title>&#128578; Vivek Sood </title>
</head>

<div class="app-container">
    <div class="numbers"></div>
    <aside>
        <h1>D.A.R.T v1.6</h1>
        <ul class="header-info">
            <li>
                <div class="header-info-cell">Session:</div>
                <div class="header-info-cell session-id"></div>
            </li>
            <li>
                <div class="header-info-cell">User id:</div>
                <div class="header-info-cell uid"></div>
            </li>
            <li>
                <div class="header-info-cell">Time:</div>
                <div class="header-info-cell time"></div>
            </li>
            <li>&nbsp;</li>
            <li>&nbsp;</li>
            <li>&nbsp;</li>
            <li>User Information</li>
            <li>
                <div class="header-info-cell">IP:</div>
                <div class="header-info-cell ip"></div>
            </li>
            <li>
                <div class="header-info-cell">Country:</div>
                <div class="header-info-cell country"></div>
            </li>
            <li>
                <div class="header-info-cell">Region:</div>
                <div class="header-info-cell region"></div>
            </li>
            <li>
                <div class="header-info-cell">Timezone:</div>
                <div class="header-info-cell tz"></div>
            </li>
            <li>&nbsp;</li>
            <li>&nbsp;</li>
            <li>&nbsp;</li>
            <li>Vivek's github stats</li>
            <li>
                <div class="header-info-cell">Username:</div>
                <div class="header-info-cell username" style="text-transform: none"></div>
            </li>
            <li>
                <div class="header-info-cell">Projects:</div>
                <div class="header-info-cell repos"></div>
            </li>
            <li>
                <div class="header-info-cell">Total Commits:</div>
                <div class="header-info-cell commits"></div>
            </li>
        </ul>
    </aside>
    <article>
        <div class="intro">
            <p class="dartLines"><span>>></span> Hello, My name is D.A.R.T</p>
            <p class="dartLines"><span>>></span> My creator <i>Vivek Sood</i> is busy building cool robots and I manage his portfolio.</p>
            <p class="dartLines"><span>>></span> I update this page with all his projects automatically</p>
        </div>
        <!-- <div class="intro"></div>
        <div class="project-container">
            <div class="projects">
                <div class="project"></div>
                <div class="project"></div>
                <div class="project"></div>
                <div class="project"></div>
                <div class="project"></div>
                <div class="project"></div>
            </div>
        </div>
        <div class="intro"></div> -->
        
    </article>
    <!-- <article class="intro"></article> -->
    <div class="right-side">
        <div class="bulb" onclick="switchTheme()">
            <svg width="32px" height="30px" viewbox="0 0 32 30">
              <path d="M11.8037382,22 C10.7546727,20.5 9.59626432,18.5830845 9.1810745,17 C8.13200903,13 11.8037382,9 16,9 C20.1962618,9 23.867991,13 22.8189255,17 C22.147873,19.5586678 20.6802136,21.077366 20.1962618,22"></path>
              <path d="M13,25 L19,25 L19,26 C19,27.6568542 17.6568542,29 16,29 L16,29 C14.3431458,29 13,27.6568542 13,26 L13,25 Z"></path>
              <path class="light" d="M4,15 L1,15"></path>
              <path class="light" d="M8,7.5 L5.5,5"></path>
              <path class="light" d="M16,4 L16,1"></path>
              <path class="light" d="M24,7.5 L26.5,5"></path>
              <path class="light" d="M28,15 L31,15"></path>
            </svg>
          </div>
    </div>
</div>

<script type="text/javascript">
    const genRanHex = size => [...Array(size)].map(() => Math.floor(Math.random() * 16).toString(16)).join('');
    document.querySelector('.uid').innerHTML = genRanHex(7);
    document.querySelector('.session-id').innerHTML = genRanHex(7);

    async function userDetails() {
        let response = await fetch(`https://ipgeolocation.abstractapi.com/v1/?api_key=a7d46083a49e4a1b8e87bb50c34d81fc`)
        let data = await response.json().then(data => {
            document.querySelector('.ip').innerHTML = data.ip_address;
            document.querySelector('.country').innerHTML = data.country;
            document.querySelector('.region').innerHTML = data.region;
            document.querySelector('.tz').innerHTML = data.timezone.name;
        })
    }
    userDetails();

    async function git() {
        let response = await fetch(`https://api.github.com/users/viveksood97`)
        let data = await response.json().then(data => {
            document.querySelector('.username').innerHTML = data.login;
            document.querySelector('.repos').innerHTML = data.public_repos;
        })
        let response1 = await fetch(`https://api.github.com/users/viveksood97/events`)
        let data1 = await response1.json().then(data1 => {
            document.querySelector('.commits').innerHTML = data1.length;
        })
    }

    git();



    string = `<p class="number">1</p><p class="number">2</p><p class="number">3</p><p class="number">4</p><p class="number">5</p><p class="number">6</p><p class="number">7</p><p class="number">8</p><p class="number">9</p><p class="number">10</p><p class="number">11</p><p class="number">12</p><p class="number">13</p><p class="number">14</p><p class="number">15</p><p class="number">16</p><p class="number">17</p><p class="number">18</p><p class="number">19</p><p class="number">20</p><p class="number">21</p><p class="number">22</p><p class="number">23</p><p class="number">24</p><p class="number">25</p><p class="number">26</p><p class="number">27</p><p class="number">28</p><p class="number">29</p><p class="number">30</p><p class="number">31</p><p class="number">32</p><p class="number">33</p><p class="number">34</p><p class="number">35</p><p class="number">36</p><p class="number">37</p><p class="number">38</p><p class="number">39</p><p class="number">40</p><p class="number">41</p><p class="number">42</p><p class="number">43</p><p class="number">44</p><p class="number">45</p><p class="number">46</p><p class="number">47</p><p class="number">48</p><p class="number">49</p><p class="number">50</p><p class="number">51</p><p class="number">52</p><p class="number">53</p><p class="number">54</p><p class="number">55</p><p class="number">56</p><p class="number">57</p><p class="number">58</p><p class="number">59</p><p class="number">60</p><p class="number">61</p><p class="number">62</p><p class="number">63</p><p class="number">64</p><p class="number">65</p><p class="number">66</p><p class="number">67</p><p class="number">68</p><p class="number">69</p><p class="number">70</p><p class="number">71</p><p class="number">72</p><p class="number">73</p><p class="number">74</p><p class="number">75</p><p class="number">76</p><p class="number">77</p><p class="number">78</p><p class="number">79</p><p class="number">80</p><p class="number">81</p><p class="number">82</p><p class="number">83</p><p class="number">84</p><p class="number">85</p><p class="number">86</p><p class="number">87</p><p class="number">88</p><p class="number">89</p><p class="number">90</p><p class="number">91</p><p class="number">92</p><p class="number">93</p><p class="number">94</p><p class="number">95</p><p class="number">96</p><p class="number">97</p><p class="number">98</p><p class="number">99</p>`;
    document.querySelector('.numbers').innerHTML = string;

    var str = document.querySelector('.intro').innerHTML.toString();
    var i = 0;
    document.querySelector('.intro').innerHTML = "";
    var intro = () => {
        var se = setInterval(function() {
        i++;
        document.querySelector('.intro').innerHTML = str.slice(0, i);
        if (i == str.length) {
            clearInterval();
            document.querySelector('.intro').innerHTML = str;

        }
    }, 20);

          
    }

    function showTime() {
       
        var currentTime = new Date();
        var h = ("0" + currentTime.getHours()).slice(-2);
        var m = ("0" + currentTime.getMinutes()).slice(-2);
        var s = ("0" + currentTime.getSeconds()).slice(-2);

        var twelvehr = "AM"

        if (h > 12) {

            h = ("0" + (h - 12)).slice(-2);
            twelvehr = "PM"
        }
        else if (h == 0) {
            h = 12;
        }

        var timeString = `${h}:${m}:${s} ${twelvehr}`;
        document.querySelector('.time').innerText = timeString;
        document.querySelector('.time').textContent = timeString;

        setTimeout(showTime, 1000);
    }

    function switchTheme() {
        if (document.documentElement.className == "dark") {
            document.documentElement.className = 'light';
        }
        else {
            document.documentElement.className = 'dark';
        }
    }
    // var storedTheme = localStorage.getItem('theme') || (window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light");
    // document.documentElement.className = storedTheme;
    
    showTime();
    intro();

</script>
